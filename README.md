# flavorpodsissue

<https://github.com/flutter/flutter/issues/65387>

Flutter project showing issues with flutter_flavorizr and shared_preferences in iOS. Project created in order to showcase issues coming from adding "https://pub.dev/packages/shared_preferences" to project that has flavors for different IPAs and APKs, generated by using "https://pub.dev/packages/flutter_flavorizr". App is run by using the following command with variations based on the Flavor we want to run it:

flutter run --flavor production -t lib/main-production.dart

before adding shared_preferences dependency the project does run smoothly. As soon as the library is added, when executing "flutter pub get" Podfile is generated and "ios" files are changed and at that point the app is not runnable anymore unless I would remove the dependency and revert the changes to the "ios" directory.

## Getting Started

* flutter pub get
* flutter pub run build_runner watch --delete-conflicting-outputs

### Error Logs

Flutter doctor does not complain about anything, therefore here I paste only the Logs that come up when executing "flutter run --flavor production -t lib/main-production.dart"

Launching lib/main-production.dart on iPhone SE (2nd generation) in debug mode...
Running pod install...                                              1.5s
Running Xcode build...

Xcode build done.                                            3.9s
Failed to build iOS app
Error output from Xcode build:

    ** BUILD FAILED **

Xcode's output:
â†³
    diff: /Podfile.lock: No such file or directory

    diff: /Manifest.lock: No such file or directory

    error: The sandbox is not in sync with the Podfile.lock. Run 'pod install' or update your CocoaPods installation.

    note: Using new build system

    note: Building targets in parallel

    note: Planning build

    note: Constructing build description

    warning: Capabilities for Signing & Capabilities may not function correctly because its entitlements use a placeholder team ID. To resolve this, select a development team in the Runner editor. (in

    target 'Runner' from project 'Runner')

    Could not build the application for the simulator.
    Error launching application on iPhone SE (2nd generation).
